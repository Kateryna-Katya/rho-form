(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function m(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(t){if(t.ep)return;t.ep=!0;const n=m(t);fetch(t.href,n)}})();document.addEventListener("DOMContentLoaded",()=>{var L;gsap.registerPlugin(ScrollTrigger);const p=new Lenis({duration:1.2,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),smoothWheel:!0});p.on("scroll",ScrollTrigger.update),gsap.ticker.add(e=>{p.raf(e*1e3)}),gsap.ticker.lagSmoothing(0);let s;const m=()=>{const e=document.getElementById("captcha-question");if(!e)return;const r=Math.floor(Math.random()*9)+1,o=Math.floor(Math.random()*9)+1;s=r+o,e.innerText=`${r} + ${o}`};m();const l=document.querySelector(".header"),t=document.querySelector(".menu-toggle"),n=document.querySelector(".mobile-menu"),d=document.querySelectorAll(".mobile-nav__link");window.addEventListener("scroll",()=>{window.scrollY>50?l.classList.add("header--scrolled"):l.classList.remove("header--scrolled")});const E=()=>{t.classList.toggle("menu-toggle--active"),n.classList.toggle("mobile-menu--active"),document.body.style.overflow=n.classList.contains("mobile-menu--active")?"hidden":""};t==null||t.addEventListener("click",E),d.forEach(e=>e.addEventListener("click",E)),(()=>{const e=document.querySelector("#hero-canvas");if(!e)return;const r=new THREE.Scene,o=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),g=new THREE.WebGLRenderer({canvas:e,alpha:!0,antialias:!0});g.setSize(window.innerWidth,window.innerHeight),g.setPixelRatio(Math.min(window.devicePixelRatio,2)),o.position.z=5;const b=new THREE.BufferGeometry,S=new Float32Array(1800*3);for(let u=0;u<5400;u++)S[u]=(Math.random()-.5)*15;b.setAttribute("position",new THREE.BufferAttribute(S,3));const H=new THREE.PointsMaterial({size:.025,color:62975,transparent:!0,opacity:.6,blending:THREE.AdditiveBlending}),w=new THREE.Points(b,H);r.add(w);const T=()=>{requestAnimationFrame(T),w.rotation.y+=8e-4,w.rotation.x+=4e-4,g.render(r,o)};T(),window.addEventListener("resize",()=>{o.aspect=window.innerWidth/window.innerHeight,o.updateProjectionMatrix(),g.setSize(window.innerWidth,window.innerHeight)});const q=document.querySelector(".hero__title");if(q){const u=new SplitType(q,{types:"chars"});gsap.timeline({delay:.5}).from(u.chars,{y:60,opacity:0,rotateX:-90,stagger:.02,duration:1,ease:"power4.out"}).to(".hero__subtitle, .hero__actions, .scroll-down",{opacity:1,y:0,stagger:.2,duration:.8},"-=0.6")}})();const y=document.querySelectorAll(".stack__layer"),v=document.querySelectorAll(".infra-item");y.length>0&&(gsap.to(y,{scrollTrigger:{trigger:".infra",start:"top 70%",end:"bottom 20%",scrub:1},z:e=>e*80,y:e=>e*-35,duration:1}),v.forEach(e=>{e.addEventListener("mouseenter",()=>{const r=e.getAttribute("data-layer");v.forEach(o=>o.classList.remove("active")),e.classList.add("active"),y.forEach(o=>{o.style.borderColor="rgba(255,255,255,0.1)",o.style.boxShadow="none",o.dataset.depth==r?(o.style.borderColor="var(--accent)",o.style.boxShadow="0 0 40px var(--accent-glow)",gsap.to(o,{scale:1.05,duration:.4})):gsap.to(o,{scale:1,duration:.4})})})}));const i=document.querySelector(".academy-cursor-img");document.querySelectorAll(".academy-item").forEach(e=>{e.addEventListener("mouseenter",()=>{const r=e.getAttribute("data-img");i&&(i.querySelector("img").src=r,gsap.to(i,{opacity:1,scale:1,duration:.3}))}),e.addEventListener("mouseleave",()=>{i&&gsap.to(i,{opacity:0,scale:.8,duration:.3})}),e.addEventListener("mousemove",r=>{i&&gsap.to(i,{x:r.clientX+25,y:r.clientY-120,duration:.6,ease:"power2.out"})})});const a=document.getElementById("contact-form"),f=document.getElementById("phone-input"),h=document.getElementById("form-success");f==null||f.addEventListener("input",e=>{e.target.value=e.target.value.replace(/[^\d+]/g,"")}),a==null||a.addEventListener("submit",e=>{if(e.preventDefault(),parseInt(document.getElementById("captcha-answer").value)!==s){alert("Неверный ответ на защитный вопрос!"),m();return}const o=a.querySelector("button");o.innerText="Интеграция...",o.disabled=!0,setTimeout(()=>{gsap.to(a,{opacity:0,y:-20,duration:.4,onComplete:()=>{a.style.display="none",h&&(h.style.display="flex",gsap.fromTo(h,{opacity:0,scale:.9,y:20},{opacity:1,scale:1,y:0,duration:.6,ease:"back.out(1.7)"}))}})},1500)});const c=document.getElementById("cookie-popup");localStorage.getItem("rho_form_cookies")||setTimeout(()=>c==null?void 0:c.classList.add("cookie-popup--active"),3e3),(L=document.getElementById("accept-cookies"))==null||L.addEventListener("click",()=>{localStorage.setItem("rho_form_cookies","true"),c==null||c.classList.remove("cookie-popup--active")}),console.log("Rho-Form Fit: Engine Operational")});
//# sourceMappingURL=main-DBxg5AO8.js.map
